# Handoff (Anchor repo)

This document describes what to hand to a client (or a future-you) so a run can be understood and verified later.

---

## What to hand off

For a given `run_id`, hand off the **output prefix**:

- `out/<run_id>/`

Minimum set:

- `_SUCCESS.json` or `_ERROR.json` (completion marker)
- `pack/**` (verifiable evidence bundle)
- `tree/**` (inputs + work tree, including `tree/error.txt` on failure)

The `pack/` directory is generated by the pinned **proof-first-auditpack** tool (installed at `@book-v1` by `make tools`) and is designed to be **verifiable later**.

---

## How to verify later

If you have the pack directory locally, verification is a single command:

```bash
auditpack verify --pack ./pack
```

(Where `auditpack` is the same pinned tool version used to create the pack.)

---

## How to interpret outcomes

### Success run

- Marker: `_SUCCESS.json`
- Pack verifies
- Work outputs live under `tree/work/**`

### “Bad data” run (still safe)

- Marker: `_ERROR.json`
- Pack still verifies
- Root cause evidence:
  - `tree/error.txt` (first failure evidence captured from the recon tool)

The system ACKs these errors (204) to prevent Eventarc retry loops.

---

## How this fits the Book 2 suite

- Repo A (**proof-first-event-contracts**) defines what events count as “run” vs “ignore” vs “error”.
- Repo B (**proof-first-deploy-gcp**) can produce a deploy evidence bundle for the Cloud Run + Eventarc setup itself.
- Repo C (**proof-first-casefiles**) contains realistic “engagement kits” and handoff examples (including the deploy handoff loop kits).

This anchor repo ties the pieces together into a deployable, replay-safe pipeline.
